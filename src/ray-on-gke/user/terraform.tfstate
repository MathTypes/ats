{
  "version": 4,
  "terraform_version": "1.4.5",
  "serial": 456,
  "lineage": "c39476be-6a7e-bc76-198e-f2780474dd7f",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "google_client_config",
      "name": "provider",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_token": "ya29.a0Ael9sCOzgYmPOgcWbdYOAELpEzYJBJ5HiSrWZ3DohAsxUpf4sLckhcFddq_Nf2nW0gxFGSJc0TzY8x_NA6mOp8T1hJl8Y24yTQVGJME-ndITJHhdk1xESUJ863Ry92OBF1w37wU7qZN2sRqcKokpsWTjoevDh2gWaCgYKAdYSARISFQF4udJheIitcwU-DkH6JuPmQ-k3DA0167",
            "id": "projects/vibrant-retina-379605/regions//zones/",
            "project": "vibrant-retina-379605",
            "region": "",
            "zone": ""
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.jupyterhub",
      "mode": "managed",
      "type": "helm_release",
      "name": "jupyterhub",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "jupyterhub",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "jupyterhub",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "3.0.0",
                "chart": "jupyterhub",
                "name": "jupyterhub",
                "namespace": "ray",
                "revision": 1,
                "values": "{\"hub\":{\"config\":{\"Authenticator\":{\"admin_users\":[\"user1\",\"user2\"],\"allowed_users\":[\"user3\",\"user4\"]},\"DummyAuthenticator\":{\"password\":\"qiu7788lz\"},\"JupyterHub\":{\"authenticator_class\":\"dummy\"}}},\"singleuser\":{\"cmd\":null,\"image\":{\"name\":\"jupyter/tensorflow-notebook\",\"tag\":\"latest\"},\"nodeSelector\":{\"iam.gke.io/gke-metadata-server-enabled\":\"true\"}}}",
                "version": "2.0.0"
              }
            ],
            "name": "jupyterhub",
            "namespace": "ray",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://jupyterhub.github.io/helm-chart",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nhub:\n  config:\n    Authenticator:\n      admin_users:\n        - user1\n        - user2\n      allowed_users:\n        - user3\n        - user4\n    # ...\n    DummyAuthenticator:\n      password: qiu7788lz\n    JupyterHub:\n      authenticator_class: dummy\n\nsingleuser:\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n  image:\n    # You should replace the \"latest\" tag with a fixed version from:\n    # https://hub.docker.com/r/jupyter/datascience-notebook/tags/\n    # Inspect the Dockerfile at:\n    # https://github.com/jupyter/docker-stacks/tree/HEAD/datascience-notebook/Dockerfile\n    name: jupyter/tensorflow-notebook\n    tag: latest\n  # `cmd: null` allows the custom CMD of the Jupyter docker-stacks to be used\n  # which performs further customization on startup.\n  cmd: null\n"
            ],
            "verify": false,
            "version": "2.0.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml"
          ]
        }
      ]
    },
    {
      "module": "module.kuberay",
      "mode": "managed",
      "type": "helm_release",
      "name": "ray-cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "ray-cluster",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "example-cluster",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "",
                "chart": "ray-cluster",
                "name": "example-cluster",
                "namespace": "ray",
                "revision": 1,
                "values": "{\"additionalWorkerGroups\":{\"smallGroup\":{\"affinity\":{},\"annotations\":{\"key\":\"value\"},\"containerEnv\":[],\"disabled\":true,\"envFrom\":[],\"initContainerImage\":\"busybox:1.28\",\"initContainerSecurityContext\":{},\"labels\":{},\"maxReplicas\":3,\"minReplicas\":1,\"nodeSelector\":{},\"rayStartParams\":{\"block\":\"true\"},\"replicas\":1,\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"1G\"},\"requests\":{\"cpu\":1,\"memory\":\"1G\"}},\"securityContext\":{},\"sidecarContainers\":[],\"tolerations\":[],\"type\":\"worker\",\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"log-volume\"}],\"volumes\":[{\"emptyDir\":{},\"name\":\"log-volume\"}]}},\"fullnameOverride\":\"\",\"head\":{\"affinity\":{},\"annotations\":{},\"containerEnv\":[{\"name\":\"RAY_memory_monitor_refresh_ms\",\"value\":\"0\"}],\"envFrom\":[],\"groupName\":\"headgroup\",\"labels\":{\"cloud.google.com/gke-ray-node-type\":\"head\"},\"nodeSelector\":{\"iam.gke.io/gke-metadata-server-enabled\":\"true\"},\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\"},\"resources\":{\"limits\":{\"cpu\":\"1\",\"ephemeral-storage\":\"20Gi\",\"memory\":\"2G\"},\"requests\":{\"cpu\":\"1\",\"ephemeral-storage\":\"10Gi\",\"memory\":\"2G\"}},\"securityContext\":{},\"sidecarContainers\":[{\"image\":\"fluent/fluent-bit:1.9.6\",\"name\":\"fluentbit\",\"resources\":{\"limits\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"4Gi\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"2Gi\",\"memory\":\"128Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"},{\"mountPath\":\"/fluent-bit/etc/fluent-bit.conf\",\"name\":\"fluentbit-config\",\"subPath\":\"fluent-bit.conf\"}]}],\"tolerations\":[],\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"}],\"volumes\":[{\"emptyDir\":{},\"name\":\"ray-logs\"},{\"configMap\":{\"name\":\"fluentbit-config\"},\"name\":\"fluentbit-config\"}]},\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"eu.gcr.io/vibrant-retina-379605/ats/dl\",\"tag\":\"latest_fix\"},\"imagePullSecrets\":[],\"nameOverride\":\"kuberay\",\"service\":{\"type\":\"ClusterIP\"},\"worker\":{\"affinity\":{},\"annotations\":{\"key\":\"value\"},\"containerEnv\":[],\"envFrom\":[],\"groupName\":\"workergroup\",\"initContainerImage\":\"busybox:1.28\",\"initContainerSecurityContext\":{},\"labels\":{\"cloud.google.com/gke-ray-node-type\":\"worker\"},\"nodeSelector\":{\"iam.gke.io/gke-metadata-server-enabled\":\"true\"},\"rayStartParams\":{\"block\":\"true\"},\"replicas\":2,\"resources\":{\"limits\":{\"cpu\":\"1\",\"ephemeral-storage\":\"20Gi\",\"memory\":\"4G\"},\"requests\":{\"cpu\":\"1\",\"ephemeral-storage\":\"10Gi\",\"memory\":\"4G\"}},\"securityContext\":{},\"sidecarContainers\":[{\"image\":\"fluent/fluent-bit:1.9.6\",\"name\":\"fluentbit\",\"resources\":{\"limits\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"4Gi\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"2Gi\",\"memory\":\"128Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"},{\"mountPath\":\"/fluent-bit/etc/fluent-bit.conf\",\"name\":\"fluentbit-config\",\"subPath\":\"fluent-bit.conf\"}]}],\"tolerations\":[],\"type\":\"worker\",\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"}],\"volumes\":[{\"emptyDir\":{},\"name\":\"ray-logs\"},{\"configMap\":{\"name\":\"fluentbit-config\"},\"name\":\"fluentbit-config\"}]}}",
                "version": "0.5.1"
              }
            ],
            "name": "example-cluster",
            "namespace": "ray",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://ray-project.github.io/kuberay-helm/",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# Default values for ray-cluster.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\n\n# The KubeRay community welcomes PRs to expose additional configuration\n# in this Helm chart.\n\nimage:\n  # Replace this with your own image, e.g.:\n  repository: eu.gcr.io/vibrant-retina-379605/ats/dl\n  tag: latest_fix\n  #repository: rayproject/ray\n  #tag: 2.3.0-py310\n  pullPolicy: IfNotPresent\n\nnameOverride: \"kuberay\"\nfullnameOverride: \"\"\n\nimagePullSecrets:\n  []\n  # - name: an-existing-secret\n\nhead:\n  groupName: headgroup\n  # If enableInTreeAutoscaling is true, the autoscaler sidecar will be added to the Ray head pod.\n  # Ray autoscaler integration is supported only for Ray versions \u003e= 1.11.0\n  # Ray autoscaler integration is Beta with KubeRay \u003e= 0.3.0 and Ray \u003e= 2.0.0.\n  # enableInTreeAutoscaling: true\n  # autoscalerOptions is an OPTIONAL field specifying configuration overrides for the Ray autoscaler.\n  # The example configuration shown below below represents the DEFAULT values.\n  # autoscalerOptions:\n  # upscalingMode: Default\n  # idleTimeoutSeconds: 60\n  # securityContext: {}\n  # env: []\n  # envFrom: []\n  # resources specifies optional resource request and limit overrides for the autoscaler container.\n  # For large Ray clusters, we recommend monitoring container resource usage to determine if overriding the defaults is required.\n  # resources:\n  #   limits:\n  #     cpu: \"500m\"\n  #     memory: \"512Mi\"\n  #   requests:\n  #     cpu: \"500m\"\n  #     memory: \"512Mi\"\n  labels:\n    cloud.google.com/gke-ray-node-type: head\n  rayStartParams:\n    dashboard-host: \"0.0.0.0\"\n    block: \"true\"\n  # containerEnv specifies environment variables for the Ray container,\n  # Follows standard K8s container env schema.\n  containerEnv:\n    # - name: EXAMPLE_ENV\n    #   value: \"1\"\n    - name: RAY_memory_monitor_refresh_ms\n      value: \"0\"\n  envFrom:\n    []\n    # - secretRef:\n    #     name: my-env-secret\n  # ports optionally allows specifying ports for the Ray container.\n  # ports: []\n  # resource requests and limits for the Ray head container.\n  # Modify as needed for your application.\n  # Note that the resources in this example are much too small for production;\n  # we don't recommend allocating less than 8G memory for a Ray pod in production.\n  # Ray pods should be sized to take up entire K8s nodes when possible.\n  # Always set CPU and memory limits for Ray pods.\n  # It is usually best to set requests equal to limits.\n  # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n  # for further guidance.\n  resources:\n    limits:\n      cpu: \"1\"\n      # To avoid out-of-memory issues, never allocate less than 2G memory for the Ray head.\n      memory: \"2G\"\n      ephemeral-storage: 20Gi\n    requests:\n      cpu: \"1\"\n      memory: \"2G\"\n      ephemeral-storage: 10Gi\n  annotations: {}\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n  tolerations: []\n  affinity: {}\n  # Ray container security context.\n  securityContext: {}\n  volumes:\n    - name: ray-logs\n      emptyDir: {}\n    - name: fluentbit-config\n      configMap:\n        name: fluentbit-config\n  # Ray writes logs to /tmp/ray/session_latests/logs\n  volumeMounts:\n    - mountPath: /tmp/ray\n      name: ray-logs\n  # sidecarContainers specifies additional containers to attach to the Ray pod.\n  # Follows standard K8s container spec.\n  sidecarContainers:\n    - name: fluentbit\n      image: fluent/fluent-bit:1.9.6\n      # These resource requests for Fluent Bit should be sufficient in production.\n      resources:\n        requests:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 2Gi\n        limits:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 4Gi\n      volumeMounts:\n        - mountPath: /tmp/ray\n          name: ray-logs\n        - mountPath: /fluent-bit/etc/fluent-bit.conf\n          subPath: fluent-bit.conf\n          name: fluentbit-config\n\nworker:\n  # If you want to disable the default workergroup\n  # uncomment the line below\n  # disabled: true\n  groupName: workergroup\n  replicas: 2\n  type: worker\n  labels:\n    cloud.google.com/gke-ray-node-type: worker\n  rayStartParams:\n    block: \"true\"\n  initContainerImage: \"busybox:1.28\" # Enable users to specify the image for init container. Users can pull the busybox image from their private repositories.\n  # Security context for the init container.\n  initContainerSecurityContext: {}\n  # containerEnv specifies environment variables for the Ray container,\n  # Follows standard K8s container env schema.\n  containerEnv: []\n  # - name: EXAMPLE_ENV\n  #   value: \"1\"\n  envFrom:\n    []\n    # - secretRef:\n    #     name: my-env-secret\n  # ports optionally allows specifying ports for the Ray container.\n  # ports: []\n  # resource requests and limits for the Ray head container.\n  # Modify as needed for your application.\n  # Note that the resources in this example are much too small for production;\n  # we don't recommend allocating less than 8G memory for a Ray pod in production.\n  # Ray pods should be sized to take up entire K8s nodes when possible.\n  # Always set CPU and memory limits for Ray pods.\n  # It is usually best to set requests equal to limits.\n  # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n  # for further guidance.\n  resources:\n    limits:\n      cpu: \"1\"\n      memory: \"4G\"\n      ephemeral-storage: 20Gi\n    requests:\n      cpu: \"1\"\n      memory: \"4G\"\n      ephemeral-storage: 10Gi\n  annotations:\n    key: value\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n  tolerations: []\n  affinity: {}\n  # Ray container security context.\n  securityContext: {}\n  volumes:\n    - name: ray-logs\n      emptyDir: {}\n    - name: fluentbit-config\n      configMap:\n        name: fluentbit-config\n  # Ray writes logs to /tmp/ray/session_latests/logs\n  volumeMounts:\n    - mountPath: /tmp/ray\n      name: ray-logs\n  # sidecarContainers specifies additional containers to attach to the Ray pod.\n  # Follows standard K8s container spec.\n  sidecarContainers:\n    - name: fluentbit\n      image: fluent/fluent-bit:1.9.6\n      # These resource requests for Fluent Bit should be sufficient in production.\n      resources:\n        requests:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 2Gi\n        limits:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 4Gi\n      volumeMounts:\n        - mountPath: /tmp/ray\n          name: ray-logs\n        - mountPath: /fluent-bit/etc/fluent-bit.conf\n          subPath: fluent-bit.conf\n          name: fluentbit-config\n\n# The map's key is used as the groupName.\n# For example, key:small-group in the map below\n# will be used as the groupName\nadditionalWorkerGroups:\n  smallGroup:\n    # Disabled by default\n    disabled: true\n    replicas: 1\n    minReplicas: 1\n    maxReplicas: 3\n    type: worker\n    labels: {}\n    rayStartParams:\n      block: \"true\"\n    initContainerImage: \"busybox:1.28\" # Enable users to specify the image for init container. Users can pull the busybox image from their private repositories.\n    # Security context for the init container.\n    initContainerSecurityContext: {}\n    # containerEnv specifies environment variables for the Ray container,\n    # Follows standard K8s container env schema.\n    containerEnv:\n      []\n      # - name: EXAMPLE_ENV\n      #   value: \"1\"\n    envFrom:\n      []\n      # - secretRef:\n      #     name: my-env-secret\n    # ports optionally allows specifying ports for the Ray container.\n    # ports: []\n    # resource requests and limits for the Ray head container.\n    # Modify as needed for your application.\n    # Note that the resources in this example are much too small for production;\n    # we don't recommend allocating less than 8G memory for a Ray pod in production.\n    # Ray pods should be sized to take up entire K8s nodes when possible.\n    # Always set CPU and memory limits for Ray pods.\n    # It is usually best to set requests equal to limits.\n    # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n    # for further guidance.\n    resources:\n      limits:\n        cpu: 1\n        memory: \"1G\"\n      requests:\n        cpu: 1\n        memory: \"1G\"\n    annotations:\n      key: value\n    nodeSelector: {}\n    tolerations: []\n    affinity: {}\n    # Ray container security context.\n    securityContext: {}\n    volumes:\n      - name: log-volume\n        emptyDir: {}\n    # Ray writes logs to /tmp/ray/session_latests/logs\n    volumeMounts:\n      - mountPath: /tmp/ray\n        name: log-volume\n    sidecarContainers: []\n\nservice:\n  type: ClusterIP\n"
            ],
            "verify": false,
            "version": "0.5.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes",
      "mode": "data",
      "type": "local_file",
      "name": "fluentd_config_yaml",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\ndata:\n  fluent-bit.conf: |\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key true\n        Refresh_Interval 5\n    [OUTPUT]\n        Name stdout\n        Match *\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBDb25maWdNYXAKbWV0YWRhdGE6CiAgbmFtZTogZmx1ZW50Yml0LWNvbmZpZwpkYXRhOgogIGZsdWVudC1iaXQuY29uZjogfAogICAgW0lOUFVUXQogICAgICAgIE5hbWUgdGFpbAogICAgICAgIFBhdGggL3RtcC9yYXkvc2Vzc2lvbl9sYXRlc3QvbG9ncy8qCiAgICAgICAgVGFnIHJheQogICAgICAgIFBhdGhfS2V5IHRydWUKICAgICAgICBSZWZyZXNoX0ludGVydmFsIDUKICAgIFtPVVRQVVRdCiAgICAgICAgTmFtZSBzdGRvdXQKICAgICAgICBNYXRjaCAqCg==",
            "content_base64sha256": "FuIyFQeLnh5i0AIA+lh2ngybrrMP4x6dl6+GIOfMRDg=",
            "content_base64sha512": "4B4lNiQOyn6LLGd/ixB6gynhbN19JRMG1tCcgUzJvf2HJy0Lkhz0rFLb3ZFSnxOS38BySTk2v2unr3MET6RkeA==",
            "content_md5": "c74f0a00011f5448d3cf930975eaa1fc",
            "content_sha1": "b9bd04be1f4303afd6e1400cd460848d7d0b8aed",
            "content_sha256": "16e23215078b9e1e62d00200fa58769e0c9baeb30fe31e9d97af8620e7cc4438",
            "content_sha512": "e01e2536240eca7e8b2c677f8b107a8329e16cdd7d251306d6d09c814cc9bdfd87272d0b921cf4ac52dbdd91529f1392dfc072493936bf6ba7af73044fa46478",
            "filename": "modules/kubernetes/config/fluentd_config.yaml",
            "id": "b9bd04be1f4303afd6e1400cd460848d7d0b8aed"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.kubernetes",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "fluentd_config",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/ray/configmaps/fluentbit-config",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "4f78e56382afdb46fd6a63227537f1cf8a7ab8a79b19449feaec51da9d36a278",
            "live_uid": "01e8a73c-0aa4-4d2f-aad3-ee3a1d71f5a3",
            "name": "fluentbit-config",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "01e8a73c-0aa4-4d2f-aad3-ee3a1d71f5a3",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\ndata:\n  fluent-bit.conf: |\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key true\n        Refresh_Interval 5\n    [OUTPUT]\n        Name stdout\n        Match *\n",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  fluent-bit.conf: |\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key true\n        Refresh_Interval 5\n    [OUTPUT]\n        Name stdout\n        Match *\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\n  namespace: ray\n",
            "yaml_incluster": "4f78e56382afdb46fd6a63227537f1cf8a7ab8a79b19449feaec51da9d36a278"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "ml",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ray",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "ray",
                "resource_version": "1423613",
                "uid": "a1d5c35f-d81d-4667-88b5-e146f0cc5c22"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "frontend_deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: frontend\n        image: \"gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\"\n        args:\n        - \"--web.listen-address=:9090\"\n        - \"--query.project-id=$PROJECT_ID\"\n        ports:\n        - name: web\n          containerPort: 9090\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogZnJvbnRlbmQKc3BlYzoKICByZXBsaWNhczogMgogIHNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIGFwcDogZnJvbnRlbmQKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBmcm9udGVuZAogICAgc3BlYzoKICAgICAgYXV0b21vdW50U2VydmljZUFjY291bnRUb2tlbjogdHJ1ZQogICAgICBub2RlU2VsZWN0b3I6CiAgICAgICAga3ViZXJuZXRlcy5pby9vczogbGludXgKICAgICAgICBrdWJlcm5ldGVzLmlvL2FyY2g6IGFtZDY0CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogZnJvbnRlbmQKICAgICAgICBpbWFnZTogImdrZS5nY3IuaW8vcHJvbWV0aGV1cy1lbmdpbmUvZnJvbnRlbmQ6djAuNS4wLWdrZS4wIgogICAgICAgIGFyZ3M6CiAgICAgICAgLSAiLS13ZWIubGlzdGVuLWFkZHJlc3M9OjkwOTAiCiAgICAgICAgLSAiLS1xdWVyeS5wcm9qZWN0LWlkPSRQUk9KRUNUX0lEIgogICAgICAgIHBvcnRzOgogICAgICAgIC0gbmFtZTogd2ViCiAgICAgICAgICBjb250YWluZXJQb3J0OiA5MDkwCiAgICAgICAgcmVhZGluZXNzUHJvYmU6CiAgICAgICAgICBodHRwR2V0OgogICAgICAgICAgICBwYXRoOiAvLS9yZWFkeQogICAgICAgICAgICBwb3J0OiB3ZWIKICAgICAgICBsaXZlbmVzc1Byb2JlOgogICAgICAgICAgaHR0cEdldDoKICAgICAgICAgICAgcGF0aDogLy0vaGVhbHRoeQogICAgICAgICAgICBwb3J0OiB3ZWIK",
            "content_base64sha256": "lYHCMg4SDs4FDalJh9mSx6qbCAwrCMhfA3IOXihVTDo=",
            "content_base64sha512": "M2ofSQrdx3vpGk7A8FnALYDkVGrtmRnd+GIFDkztFKPCO437I9nY/GaJufoXnOoIKtyfef9lcoh1R0ofdXRO4g==",
            "content_md5": "04ab4bc3d988ea3e532f93138d24217f",
            "content_sha1": "b6de2a30e131631019722274e785cab2f0a035b4",
            "content_sha256": "9581c2320e120ece050da94987d992c7aa9b080c2b08c85f03720e5e28554c3a",
            "content_sha512": "336a1f490addc77be91a4ec0f059c02d80e4546aed9919ddf862050e4ced14a3c23b8dfb23d9d8fc6689b9fa179cea082adc9f79ff65728875474a1f75744ee2",
            "filename": "modules/prometheus/config/frontend-deployment.yaml",
            "id": "b6de2a30e131631019722274e785cab2f0a035b4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "frontend_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\nspec:\n  clusterIP: None\n  selector:\n    app: frontend\n  ports:\n  - name: web\n    port: 9090\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBTZXJ2aWNlCm1ldGFkYXRhOgogIG5hbWU6IGZyb250ZW5kCnNwZWM6CiAgY2x1c3RlcklQOiBOb25lCiAgc2VsZWN0b3I6CiAgICBhcHA6IGZyb250ZW5kCiAgcG9ydHM6CiAgLSBuYW1lOiB3ZWIKICAgIHBvcnQ6IDkwOTAK",
            "content_base64sha256": "sG1LuQavrZPtWrJg6395nYkZ6WSmiYOEHUzE566Vet8=",
            "content_base64sha512": "KubG3HQbjLG/mRVT4zR/3kHONjf6GchfvAHKVrPwcJS2nyxqPK8Y1GBtG4Rqt+lmKIN/a9BNFjcnYl+4gJ8daw==",
            "content_md5": "bb46a85f3039ee59eb62f9ac22e8178e",
            "content_sha1": "137588f8984626bbbfe8c47f1cea1aacb36f0df9",
            "content_sha256": "b06d4bb906afad93ed5ab260eb7f799d8919e964a68983841d4cc4e7ae957adf",
            "content_sha512": "2ae6c6dc741b8cb1bf991553e3347fde41ce3637fa19c85fbc01ca56b3f07094b69f2c6a3caf18d4606d1b846ab7e96628837f6bd04d163727625fb8809f1d6b",
            "filename": "modules/prometheus/config/frontend-service.yaml",
            "id": "137588f8984626bbbfe8c47f1cea1aacb36f0df9"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "grafana_deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: grafana\n        image: grafana/grafana:8.3.4\n        ports:\n        - name: web\n          containerPort: 3000\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogZ3JhZmFuYQpzcGVjOgogIHJlcGxpY2FzOiAxCiAgc2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgYXBwOiBncmFmYW5hCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogZ3JhZmFuYQogICAgc3BlYzoKICAgICAgbm9kZVNlbGVjdG9yOgogICAgICAgIGt1YmVybmV0ZXMuaW8vb3M6IGxpbnV4CiAgICAgICAga3ViZXJuZXRlcy5pby9hcmNoOiBhbWQ2NAogICAgICBjb250YWluZXJzOgogICAgICAtIG5hbWU6IGdyYWZhbmEKICAgICAgICBpbWFnZTogZ3JhZmFuYS9ncmFmYW5hOjguMy40CiAgICAgICAgcG9ydHM6CiAgICAgICAgLSBuYW1lOiB3ZWIKICAgICAgICAgIGNvbnRhaW5lclBvcnQ6IDMwMDAK",
            "content_base64sha256": "J/AfG5/rO/N55nnOSq6qDEuOxWM1LTREXoKKvlsEu00=",
            "content_base64sha512": "8omr3loU7TcR47IrufoQAPoLemydx4oUfugBRK/XrhvlFfvo5cvnCQ9FOvcVO2dEkccSwZ3uGlsL3CaZzap1uA==",
            "content_md5": "44fa4b68cb75ee0b64474dbcbbea8cfa",
            "content_sha1": "1b02c86aa9f38a3dc53f5d2f13293bdc7ed04693",
            "content_sha256": "27f01f1b9feb3bf379e679ce4aaeaa0c4b8ec563352d34445e828abe5b04bb4d",
            "content_sha512": "f289abde5a14ed3711e3b22bb9fa1000fa0b7a6c9dc78a147ee80144afd7ae1be515fbe8e5cbe7090f453af7153b674491c712c19dee1a5b0bdc2699cdaa75b8",
            "filename": "modules/prometheus/config/grafana-deployment.yaml",
            "id": "1b02c86aa9f38a3dc53f5d2f13293bdc7ed04693"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "grafana_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\nspec:\n  clusterIP: None\n  selector:\n    app: grafana\n  ports:\n  - name: web\n    port: 3000\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBTZXJ2aWNlCm1ldGFkYXRhOgogIG5hbWU6IGdyYWZhbmEKc3BlYzoKICBjbHVzdGVySVA6IE5vbmUKICBzZWxlY3RvcjoKICAgIGFwcDogZ3JhZmFuYQogIHBvcnRzOgogIC0gbmFtZTogd2ViCiAgICBwb3J0OiAzMDAwCg==",
            "content_base64sha256": "uPWXePh0GkiamLMb/6sFuse0/xX2WEKOaKTZ8625qdc=",
            "content_base64sha512": "+V9LNvUf+3HuE6Cge18AdBs8OcmGX5pVQZ166+ZErH7gQubNIqnCwd2K/Q6EOTcVrlyXsABCo2tZmBK06iyJ3A==",
            "content_md5": "825a9b1c72cc95a3a1d89fc8e8298eb8",
            "content_sha1": "9dfad4ebf39faa08a6c75034434fc061e3e5af71",
            "content_sha256": "b8f59778f8741a489a98b31bffab05bac7b4ff15f658428e68a4d9f3adb9a9d7",
            "content_sha512": "f95f4b36f51ffb71ee13a0a07b5f00741b3c39c9865f9a55419d7aebe644ac7ee042e6cd22a9c2c1dd8afd0e84393715ae5c97b00042a36b599812b4ea2c89dc",
            "filename": "modules/prometheus/config/grafana-service.yaml",
            "id": "9dfad4ebf39faa08a6c75034434fc061e3e5af71"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "pod_monitor_yaml",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\nspec:\n  selector:\n    matchLabels:\n      app: ray-monitoring\n      #ray.io/is-ray-node: \"yes\"\n  endpoints:\n  - port: metrics\n    interval: 30s\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBtb25pdG9yaW5nLmdvb2dsZWFwaXMuY29tL3YxCmtpbmQ6IFBvZE1vbml0b3JpbmcKbWV0YWRhdGE6CiAgbmFtZTogcmF5LW1vbml0b3JpbmcKc3BlYzoKICBzZWxlY3RvcjoKICAgIG1hdGNoTGFiZWxzOgogICAgICBhcHA6IHJheS1tb25pdG9yaW5nCiAgICAgICNyYXkuaW8vaXMtcmF5LW5vZGU6ICJ5ZXMiCiAgZW5kcG9pbnRzOgogIC0gcG9ydDogbWV0cmljcwogICAgaW50ZXJ2YWw6IDMwcwo=",
            "content_base64sha256": "L9VK5RY4w07R5y0+BdYBNIp2BccB/SgEw9wD6F4OoaI=",
            "content_base64sha512": "2UzEKy7LxInasl84tfSzhiX00E/hc1XNTudaHu9k2lPWxpfjo5cIcw/xpASkpOne5D7zOldK2SjRC2DH49yTFQ==",
            "content_md5": "bd6302ebab905db2cb6272e24fb16078",
            "content_sha1": "87bbb6bec7f6835c6395a863bfe2975aee6e97ff",
            "content_sha256": "2fd54ae51638c34ed1e72d3e05d601348a7605c701fd2804c3dc03e85e0ea1a2",
            "content_sha512": "d94cc42b2ecbc489dab25f38b5f4b38625f4d04fe17355cd4ee75a1eef64da53d6c697e3a39708730ff1a404a4a4e9dee43ef33a574ad928d10b60c7e3dc9315",
            "filename": "modules/prometheus/config/pod_monitor.yaml",
            "id": "87bbb6bec7f6835c6395a863bfe2975aee6e97ff"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "pod_monitor",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "monitoring.googleapis.com/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/monitoring.googleapis.com/v1/namespaces/ray/podmonitorings/ray-monitoring",
            "ignore_fields": null,
            "kind": "PodMonitoring",
            "live_manifest_incluster": "ff88b9c1cbe5414a67b9b0fdfb670b107e8aad052c3b740042ec51ba8096a39b",
            "live_uid": "b8391bb1-fcec-4e37-8323-e72b0ac077aa",
            "name": "ray-monitoring",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b8391bb1-fcec-4e37-8323-e72b0ac077aa",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\nspec:\n  selector:\n    matchLabels:\n      app: ray-monitoring\n      #ray.io/is-ray-node: \"yes\"\n  endpoints:\n  - port: metrics\n    interval: 30s\n",
            "yaml_body_parsed": "apiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\n  namespace: ray\nspec:\n  endpoints:\n  - interval: 30s\n    port: metrics\n  selector:\n    matchLabels:\n      app: ray-monitoring\n",
            "yaml_incluster": "ff88b9c1cbe5414a67b9b0fdfb670b107e8aad052c3b740042ec51ba8096a39b"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.prometheus.data.local_file.pod_monitor_yaml"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_frontend",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/ray/deployments/frontend",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "458d44642b389cb4f98036cd64bc9a9342af085ccac466163db5b54dc84d54c0",
            "live_uid": "40c5deec-dd62-45d3-a463-45c1b96f2ae3",
            "name": "frontend",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "40c5deec-dd62-45d3-a463-45c1b96f2ae3",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: frontend\n        image: \"gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\"\n        args:\n        - \"--web.listen-address=:9090\"\n        - \"--query.project-id=vibrant-retina-379605\"\n        ports:\n        - name: web\n          containerPort: 9090\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\n  namespace: ray\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      containers:\n      - args:\n        - --web.listen-address=:9090\n        - --query.project-id=vibrant-retina-379605\n        image: gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n        name: frontend\n        ports:\n        - containerPort: 9090\n          name: web\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n      nodeSelector:\n        kubernetes.io/arch: amd64\n        kubernetes.io/os: linux\n",
            "yaml_incluster": "458d44642b389cb4f98036cd64bc9a9342af085ccac466163db5b54dc84d54c0"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.prometheus.data.local_file.frontend_deployment"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_frontend_service",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/ray/services/frontend",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "dfb5f247323478fe89cd71e4b91fbb1c4bf18c96a0afa2f4e383f17046e00326",
            "live_uid": "e6b4644a-5173-4f93-93a9-0c8eb3275940",
            "name": "frontend",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "e6b4644a-5173-4f93-93a9-0c8eb3275940",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\nspec:\n  clusterIP: None\n  selector:\n    app: frontend\n  ports:\n  - name: web\n    port: 9090\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\n  namespace: ray\nspec:\n  clusterIP: None\n  ports:\n  - name: web\n    port: 9090\n  selector:\n    app: frontend\n",
            "yaml_incluster": "dfb5f247323478fe89cd71e4b91fbb1c4bf18c96a0afa2f4e383f17046e00326"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.prometheus.data.local_file.frontend_service"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_grafana",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/ray/deployments/grafana",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "52b363b562f951972f273ff97fc59187bf9124bc1aee3af8d0142b85d0d544ec",
            "live_uid": "82e9ccf8-dfce-4e10-8a94-d7931fd7cd5c",
            "name": "grafana",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "82e9ccf8-dfce-4e10-8a94-d7931fd7cd5c",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: grafana\n        image: grafana/grafana:8.3.4\n        ports:\n        - name: web\n          containerPort: 3000\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: ray\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - image: grafana/grafana:8.3.4\n        name: grafana\n        ports:\n        - containerPort: 3000\n          name: web\n      nodeSelector:\n        kubernetes.io/arch: amd64\n        kubernetes.io/os: linux\n",
            "yaml_incluster": "52b363b562f951972f273ff97fc59187bf9124bc1aee3af8d0142b85d0d544ec"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.prometheus.data.local_file.grafana_deployment"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_grafana_service",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/ray/services/grafana",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "009270b8cbba522d933c8e446a6becd4a4e9da51c34f8c570474b27aea9d0027",
            "live_uid": "a424fdbc-413e-4471-a132-4aada66d56fc",
            "name": "grafana",
            "namespace": "ray",
            "override_namespace": "ray",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "a424fdbc-413e-4471-a132-4aada66d56fc",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\nspec:\n  clusterIP: None\n  selector:\n    app: grafana\n  ports:\n  - name: web\n    port: 3000\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\n  namespace: ray\nspec:\n  clusterIP: None\n  ports:\n  - name: web\n    port: 3000\n  selector:\n    app: grafana\n",
            "yaml_incluster": "009270b8cbba522d933c8e446a6becd4a4e9da51c34f8c570474b27aea9d0027"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.prometheus.data.local_file.grafana_service"
          ]
        }
      ]
    },
    {
      "module": "module.service_accounts",
      "mode": "managed",
      "type": "google_project_iam_binding",
      "name": "monitoring-viewer",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwX5yS7MlsI=",
            "id": "vibrant-retina-379605/roles/monitoring.viewer",
            "members": [
              "serviceAccount:vibrant-retina-379605.svc.id.goog[ray/default]"
            ],
            "project": "vibrant-retina-379605",
            "role": "roles/monitoring.viewer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml"
          ]
        }
      ]
    },
    {
      "module": "module.service_accounts",
      "mode": "managed",
      "type": "google_service_account",
      "name": "sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "ray-gmp-account",
            "description": "",
            "disabled": false,
            "display_name": "Managed prometheus service account",
            "email": "ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com",
            "id": "projects/vibrant-retina-379605/serviceAccounts/ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com",
            "member": "serviceAccount:ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com",
            "name": "projects/vibrant-retina-379605/serviceAccounts/ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com",
            "project": "vibrant-retina-379605",
            "timeouts": null,
            "unique_id": "117529621154587610759"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml"
          ]
        }
      ]
    },
    {
      "module": "module.service_accounts",
      "mode": "managed",
      "type": "google_service_account_iam_binding",
      "name": "workload-identity-user",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwX5yS6rIxM=",
            "id": "projects/vibrant-retina-379605/serviceAccounts/ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com/roles/iam.workloadIdentityUser",
            "members": [
              "serviceAccount:vibrant-retina-379605.svc.id.goog[ray/default]"
            ],
            "role": "roles/iam.workloadIdentityUser",
            "service_account_id": "projects/vibrant-retina-379605/serviceAccounts/ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.service_accounts.google_service_account.sa"
          ]
        }
      ]
    },
    {
      "module": "module.service_accounts",
      "mode": "managed",
      "type": "kubernetes_annotations",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {
              "iam.gke.io/gcp-service-account": "ray-gmp-account@vibrant-retina-379605.iam.gserviceaccount.com"
            },
            "api_version": "v1",
            "field_manager": "Terraform",
            "force": null,
            "id": "apiVersion=v1,kind=ServiceAccount,name=default",
            "kind": "ServiceAccount",
            "metadata": [
              {
                "name": "default",
                "namespace": ""
              }
            ],
            "template_annotations": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.kubernetes.kubernetes_namespace.ml",
            "module.service_accounts.google_service_account.sa"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
